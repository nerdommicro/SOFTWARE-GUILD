!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return t[r].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e,n){"use strict";var r=n(3);window.Tracker=new r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=n(2),o=i.WIN_OS_NAME,a=i.OS,c=i.APP,s=i.BROWSER,d=i.DEVICE,u=["na","-1"],f=function(){function t(e){if(r(this,t),e&&"string"==typeof e){this.ua=e;var n=this.detectOS(),i=this.detectApp(),o=this.detectBrowser(),a=this.detectDevice();return[n,i,o,a]}}return t.prototype.detectOS=function(){for(var t=this.ua,e=0;e<a.length;e++){var n=a[e][0],r=a[e][1],i=t.match(r);if(i){var c=i[1]||"-1";return"Windows"===n&&(c=o[c]||c),c.indexOf("_")>-1&&(c=c.split("_").join(".")),[n,c]}}return u.slice()},t.prototype.detectApp=function(){var t=this.ua;if(t.indexOf("AliApp")>-1)for(var e=0;e<c.length;e++){var n=c[e][1],r=t.match(n);if(r)return[r[1],r[2]]}return u.slice()},t.prototype.detectBrowser=function(){for(var t=this.ua,e=0;e<s.length;e++){var n=s[e][0],r=s[e][1],i=t.match(r);if(i)return[n,i[1]]}return u.slice()},t.prototype.detectDevice=function(){for(var t=this.ua,e=0;e<d.length;e++){var n=d[e][0],r=d[e][1],i=t.match(r);if(i)return[n,"-1"]}return u.slice()},t}();t.exports=f},function(t,e){"use strict";var n={5.1:"XP",5.2:"Server2003","6.0":"Vista",6.1:"7",6.2:"8",6.3:"8.1","10.0":"10"},r=[["WP_Android",/\bWindows Phone [\d.]+; Android ([\d.]+)/],["WP",/\bWindows Phone (?:OS )?([\d.]+)/],["Android",/\b(?:Android|Adr) ([\d.]+)/],["iOS",/\b(?:iPhone|iPad|iPod)[a-zA-Z ;]+([\d._]+)/],["Windows",/\bWindows NT ([\d.]+)/],["macOS",/\bMacintosh[a-zA-Z ;]+([\d._]+)/],["Linux",/\b(?:X11|Ubuntu|Linux(?= \w+)?);/]],i=[["AliApp",/\bAliApp\(([\w-]+)\/(\d+\.\d+\.\d+)/]],o=[["AlipaySDK",/\bAlipaySDK\(.+\/([\d.]+)\)/],["WindVane",/\bWindVane\/([\d.]+)/],["UC",/\bUC?Browser\/(\d+\.\d+)/],["XiaoMi",/\bMiuiBrowser\/([\d.]+)/],["IEMobile",/\bIEMobile\/(\d+)/],["Edge",/\bEdge\/(\d+)/],["IE",/\b(?:MSIE |Trident\/\d+.+rv:)(\d+)/],["Opera",/\bOPR\/(\d+)/],["Yandex",/\bYaBrowser\/(\d+\.\d+\.\d+)/],["Firefox",/\b(?:Firefox|FxiOS)\/?(\d+)/],["Chrome",/\b(?:Chrome|CriOS|CrMo)\/(\d+)/],["Safari",/\bVersion\/([\d.]+)(?: Mobile\/\w+)? Safari\//]],a=[["PC",/\bWindows NT\b/],["Mac",/\bMacintosh\b/],["iPod",/\biPod[ \w]*;/],["iPhone",/\biPhone;/],["iPad",/\biPad;/],["Samsung",/\b(SAMSUNG|S(CH|GH|PH|EC|AM|HV|HW|M)-|GT-)/],["Sony",/\b(C2304|C6903|D6603|D6653|E5533|E5563|E6653|E6853|F8132|F8332|L39h)(?= Build)/],["Motorola",/\b(Moto ?\w+|XT\d+)/],["LG",/\bLG-?\w+/],["Asus",/\bASUS[ _]?\w+/],["Redmi",/\b(HM|Redmi)\b/],["Xiaomi",/\bMI\b/],["HTC",/\bHTC ?\w+/],["Nexus",/\bNexus\b/],["Oppo",/\b(OPPO|R7g|X9079)/],["Huawei",/\b(Huawei|Honor|HW-)/i],["Digma",/\bPlane\b/],["Lenovo",/\b(Lenovo|YOGA Tablet|Thinkpad)/],["Micromax",/\bMicromax\b/],["Prestigio",/\b(PMP|PAP|PMT|PSP)\d+\w+[);\/ ]/],["Fly",/\b(Fly|FS505)\b/],["ZTE",/\bZTE\b/],["Lumia",/\bLumia\b/],["Nokia",/\bNOKIA/i],["BlackBerry",/\b(BlackBerry|BB\d+|RIM)/]];t.exports={WIN_OS_NAME:n,OS:r,APP:i,BROWSER:o,DEVICE:a}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(4),a=o.map,c=o.addListener,s=o.removeListener,d=o.isNumber,u=n(1),f=window,l=document,h={click:!0,pv:!0,server:"https://ikcart.alipay.com/web/bi.do",timing:{rate:1,server:"https://ikcart.alipay.com/p.gif"}},p=0,m=function(){function t(){r(this,t),this.config={},this.history=[]}return t.prototype.configure=function(t){t||(t={});var e=i({},h.timing,t.timing!==!1?t.timing:{rate:0});this.config=i({},h,t,{timing:e}),this.bind(),this.logPV(),f.console&&++p>1&&console.warn("Tracker has configured",p,"times, please check your codes!")},t.prototype.bind=function(){var t=this,e=this.config;f.performance&&f.performance.timing&&(this.timingHandler&&(s(f,"load",this.timingHandler),this.timingHandler=null),e.timing.rate>0&&(this.timingHandler=function(){return t.logTiming()},c(f,"load",this.timingHandler))),this.clickHandler&&(s(l,"click",this.clickHandler),this.clickHandler=null),e.click&&(this.clickHandler=function(e){var n=t.getTarget(e),r=t.getSeed(n);t.logClick(r)},c(l,"click",this.clickHandler))},t.prototype.logPV=function(){var t=this.config;if(t.pv){if(!this._clnt){var e=new u(navigator.userAgent);this._clnt=a(e,function(t){return t.join("/")}).join("|").toLowerCase()}var n=location.href,r=this.getExtraParam();r&&(n+=n.indexOf("?")>-1?"&":"?",n+=r);var i=a([["ref",l.referrer||"-"],["pg",n],["utmhn",location.hostname],["screen",f.screen?screen.width+"x"+screen.height:"-"],["_clnt",this._clnt],["BIProfile",f.top===f.self?"page":"iframe"],["r",(new Date).getTime()],["v","0.3.0"]],function(t){return t[0]+"="+encodeURIComponent(t[1])});return this.send(t.server,i)}},t.prototype.logClick=function(t){var e=this.config;if(t&&e.click){var n=""+location.origin+location.pathname+"?seed="+t,r=this.getExtraParam();r&&(n+="&"+r);var i=a([["ref",this.history.shift()||location.href],["pg",n],["url",location.href],["BIProfile","clk"],["r",(new Date).getTime()],["v","0.3.0"]],function(t){return t[0]+"="+encodeURIComponent(t[1])});return this.history.push(n),this.send(e.server,i)}},t.prototype.logTiming=function(){var t=this,e=this.config;if(e.timing&&this.calcRate()){var n=f.performance.timing,r=n.navigationStart,i=a([["ns","navigationStart"],["ues","unloadEventStart"],["uee","unloadEventEnd"],["rds","redirectStart"],["rde","redirectEnd"],["fs","fetchStart"],["dls","domainLookupStart"],["dle","domainLookupEnd"],["cs","connectStart"],["ce","connectEnd"],["scs","secureConnectionStart"],["rqs","requestStart"],["rps","responseStart"],["rpe","responseEnd"],["dl","domLoading"],["di","domInteractive"],["dcles","domContentLoadedEventStart"],["dclee","domContentLoadedEventEnd"],["dc","domComplete"],["les","loadEventStart"],["lee","loadEventEnd"]],function(e){return e[0]+"="+t.diffTime(r,n[e[1]])});return i.unshift("logtype=2","cache="+Date.now(),"fp="+this.diffTime(r,this.getFirstPaintTime())),this.send(e.timing.server,i)}},t.prototype.send=function(t,e){var n=new Image(1,1);return n.onabort=n.onerror=n.onload=function(){n=null},n.src=t+"?"+e.join("&"),n},t.prototype.calcRate=function(){var t=this.config.timing.rate;return!!d(t)&&Math.random()<=t},t.prototype.diffTime=function(t,e){var n=e-t;return d(n)&&n>=0?n:"na"},t.prototype.getFirstPaintTime=function(){if(f.chrome&&f.chrome.loadTimes)return 1e3*f.chrome.loadTimes().firstPaintTime;var t=f.performance.timing.msFirstPaint;if(d(t))return t;var e=this.config.timing.firstPaintTime;return d(e)?e:0},t.prototype.getTarget=function(t){try{for(var e=t.target||t.srcElement;e&&!e.hasAttribute("seed");)e=e.parentNode;return e}catch(n){}},t.prototype.getSeed=function(t){try{return t&&t.getAttribute("seed")}catch(e){}},t.prototype.getExtraParam=function(){var t=this.config.extraParam||{},e=[];for(var n in t)e.push(n+"="+t[n]);return e.join("&")},t}();t.exports=m},function(t,e){"use strict";e.map=function(t,e){if(Array.prototype.map)return t.map(e);t=t.slice();for(var n=0;n<t.length;n++)t[n]=e(t[n]);return t},e.addListener=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},e.removeListener=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},e.isNumber=function(t){if("string"==typeof t){if(!t.trim())return!1}else if("number"!=typeof t)return!1;return t-t+1>=0}}]);